<mvc:View
    controllerName="ns.artists.controller.Detail"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:core="sap.ui.core">

    <Page id="detailPage" title="Artist Details" showNavButton="true" navButtonPress=".onNavBack">
        <content>
         <ObjectHeader id="_IDGenObjectHeader"
                responsive="true"
                fullScreenOptimized="true"
                icon="{imageUrl}"
                iconDensityAware="false"
                intro="{genre}"
                title="{name}"
                number="{averageRating}"
                numberUnit="Stars">
                
                <attributes>
                    <ObjectAttribute id="_IDGenObjectAttribute1" title="Country" text="{country}"/>
                </attributes>

                <statuses>
                    <ObjectStatus id="_IDGenObjectStatus" 
                        text="{label}" 
                        state="{= ${label} === 'Headliner' ? 'Warning' : 'Success' }"
                        inverted="true" />
                        
                    <ObjectStatus id="_IDGenObjectStatus1" text="{= ${averageRating} > 4 ? 'Top Rated' : 'Regular' }" state="None"/>
                </statuses>

                <headerContainer>
                    <IconTabBar id="_IDGenIconTabBar" class="sapUiNoContentPadding">
                        <items>
                            <IconTabFilter id="_IDGenIconTabFilter2" icon="sap-icon://sound" tooltip="Spotify" design="Horizontal">
                                <Link id="_IDGenLink" text="Open Spotify" href="{spotifyUrl}" target="_blank"/>
                            </IconTabFilter>
                            <IconTabFilter id="_IDGenIconTabFilter3" icon="sap-icon://camera" tooltip="Instagram" design="Horizontal">
                                <Link id="_IDGenLink1" text="Open Instagram" href="{instagramUrl}" target="_blank"/>
                            </IconTabFilter>
                        </items>
                    </IconTabBar>
                </headerContainer>
            </ObjectHeader>

            <IconTabBar id="iconTabBar" class="sapUiResponsiveContentPadding">
                <items>
                    <IconTabFilter id="_IDGenIconTabFilter" text="Biografie" icon="sap-icon://hint">
                        <Text id="_IDGenText8" text="{biography}" class="sapUiSmallMargin"/>
                    </IconTabFilter>
                    
                    <IconTabFilter id="_IDGenIconTabFilter1" text="Reviews ({reviewCount})" icon="sap-icon://discussion">
                        <VBox id="_IDGenVBox">
                            <Button id="_IDGenButton2" 
                                text="Schrijf Review" 
                                icon="sap-icon://add" 
                                press=".onOpenReviewDialog" 
                                class="sapUiSmallMarginBottom"/>

                            <List id="reviewsList" items="{reviews}" noDataText="Nog geen reviews.">
                                <items>
                                    <FeedListItem id="_IDGenFeedListItem1"
                                        sender="{visitorName}"
                                        icon="sap-icon://person-placeholder"
                                        info="Rating: {rating}/5"
                                        timestamp="{createdAt}"
                                        text="{comment}"
                                        convertLinksToAnchorTags="All"/>
                                </items>
                            </List>
                        </VBox>
                    </IconTabFilter>
                </items>
            </IconTabBar>
        </content>
    </Page>
</mvc:View>